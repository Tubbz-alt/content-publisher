<% actions = [] %>

<% actions << link_to(
  "Insert attachment",
  file_attachment_path(edition.document, attachment.file_attachment),
  class: "govuk-link govuk-link--no-visited-state app-link--button",
  data: {
    "modal-action": "insert",
    gtm: "insert-attachment",
  },
) %>

<% actions << link_to(
  "Download",
  download_file_attachment_path(edition.document, attachment.file_attachment),
  class: "govuk-link govuk-link--no-visited-state app-link--button",
  data: {
    gtm: "download-attachment"
  }
) %>

<% actions << link_to(
  "Edit file",
  replace_file_attachment_path(edition.document, attachment.file_attachment_id),
  class: "govuk-link govuk-link--no-visited-state app-link--button",
  data: {
    "modal-action": "edit",
    gtm: "edit-attachment",
  },
) %>

<% actions << link_to(
  "Delete attachment",
    confirm_delete_file_attachment_path(document, attachment.file_attachment_id),
    class: "govuk-link app-link--button app-link--destructive",
    data: {
      "modal-action": "confirm-delete"
  },
) %>

<%= render "components/attachment_meta", {
  attachment: file_attachment_attributes(attachment, edition),
  data_attributes: {
    gtm: "preview-attachment-block"
  },
  actions: actions,
} %>
