<%
  id ||= nil
  title ||= nil
  block ||= nil
  items ||= []
%>

<%= tag.div class: "app-c-summary", id: id do %>
  <% if title %>
    <%= tag.h2 title[:text], class:"govuk-heading-m" %>
    <% if title[:edit_url] %>
      <%= link_to title[:edit_url], class: "app-c-summary__edit-section-link",
        title: "Edit #{title[:text]}",
        data: { gtm: "content-change" } do %>
        Edit<span class="govuk-visually-hidden"> <%= title[:text] %></span>
      <% end %>
    <% end %>
  <% end %>

  <% if items.any? %>
    <%= tag.dl class: "app-c-summary__list app-c-summary__list--short" do %>
      <% items.each do |item| %>
        <%= tag.div class: "app-c-summary__contents" do %>

          <%= tag.dt item[:field], class:"app-c-summary__question" %>
          <%= tag.dd item[:value], class:"app-c-summary__answer" %>

          <% if item[:edit_url] %>
            <%= tag.dd link_to, class:"app-c-summary__edit" do %>
              <%= link_to item[:edit_url], class:"app-c-summary__edit-link" do %>
                Edit<span class="govuk-visually-hidden"> <%= item[:field] %></span>
              <% end %>
            <% end %>
          <% end %>

        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <%= tag.div block, class: "app-c-summary__block" if block %>
<% end %>
