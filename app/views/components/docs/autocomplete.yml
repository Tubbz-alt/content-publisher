name: Autocomplete
description: An autocomplete component, built to be accessible
body: |
  This component is build using [Accessible Autocomplete](https://github.com/alphagov/accessible-autocomplete)
part_of_admin_layout: true
accessibility_criteria: |
  [Accessibility acceptance criteria](https://github.com/alphagov/accessible-autocomplete/blob/master/accessibility-criteria.md)
examples:
  default:
    data:
      id: autocomplete
      name: autocomplete
      label:
        text: Select your country
      options:
        -
          -
        -
          - France
          - fr
        -
          - Germany
          - de
        -
          - United Kingdom
          - uk

  with_selected_value:
    data:
      id: autocomplete-selected
      name: autocomplete-selected
      label:
        text: Select your country
      options:
        -
          - France
          - fr
        -
          - Germany
          - de
        -
          - United Kingdom
          - uk
      selected_options:
          - de

  with_error:
    data:
      name: autocomplete-with-error
      label:
        text: Autocomplete with error
      options:
        -
          - France
          - fr
        -
          - Germany
          - de
        -
          - United Kingdom
          - uk
      error_items:
        - text: There is a problem with this input

  multiselect:
    data:
      id: autocomplete-multiselect
      name: autocomplete-multiselect
      label:
        text: Select your country
      multiple: true
      options:
        -
          - France
          - fr
        -
          - Germany
          - de
        -
          - United Kingdom
          - uk

  multiselect_with_selected_values:
    data:
      id: autocomplete-multiselect-selected
      name: autocomplete-multiselect-selected
      label:
        text: Select your country
      multiple: true
      options:
        -
          - France
          - fr
        -
          - Germany
          - de
        -
          - United Kingdom
          - uk
      selected_options:
          - fr
          - de
  autocomplete_with_hint_on_options:
    data:
      id: autocomplete-with-hint-on-options
      name: autocomplete-with-hint-on-options
      type: with-hint-on-options
      label:
        text: Select your country
      options:
        -
          -
        -
          - France
          - fr
          - data-hint: Paris
        -
          - United Arab Emirates
          - uae
          - data-hint: Abu Dhabi
        -
          - United Kingdom
          - uk
          - data-hint: London
  autocomplete_without_narrowing_results:
    data:
      id: autocomplete-without-narrowing-results
      name: autocomplete-without-narrowing-results
      type: without-narrowing-results
      label:
        text: Select your country
      options:
        -
          - France
          - fr
        -
          - United Arab Emirates
          - uae
        -
          - United Kingdom
          - uk
  autocomplete_narrow_width:
    data:
      id: autocomplete-narrow
      name: autocomplete-narrow
      type: without-narrowing-results
      label:
        text: Status
      width: narrow
      options:
        -
          - Draft
        -
          - Published
        -
          - Removed
  autocomplete_without_narrowing_results_and_initial_value:
    description: |
      This is used to display a value that a user has entered erroneously
      without altering the underlying select. This only makes sense for the
      without narrowing results variant as this removes the select element.
    data:
      id: autocomplete-with-initial-value
      name: autocomplete-with-initial-value
      type: without-narrowing-results
      label:
        text: Select your country
      data_attributes:
        initial_value: "Invalid Country"
      options:
        -
          - France
          - fr
        -
          - United Arab Emirates
          - uae
        -
          - United Kingdom
          - uk
  autocomplete_search:
    description: |
      This is used to display an autocomplete with a search input
    data:
      id: autocomplete-search
      name: autocomplete-search
      label:
        text: Search
      data_module: autocomplete
      search: true
      options:
        -
          -
        -
          - France
          - fr
        -
          - Germany
          - de
        -
          - United Kingdom
          - uk
