<% lead_image = @edition.lead_image_revision %>

<% lead_image_block = if lead_image %>
  <% capture do %>
    <%= render "components/image_meta", {
      src: url_for(lead_image.thumbnail),
      alt_text: lead_image.alt_text,
      metadata_items: [
        {
          field: t("documents.show.lead_image.alt_text"),
          value: lead_image.alt_text,
        },
        {
          field: t("documents.show.lead_image.caption"),
          value: lead_image.caption,
        },
        {
          field: t("documents.show.lead_image.credit"),
          value: lead_image.credit,
        }
      ],
    } %>
  <% end %>
<% else %>
  <% capture do %>
    <%= t("documents.show.lead_image.no_lead_image") %>
    <% link_to t("documents.show.lead_image.upload_image"),
               images_path(@edition.document),
               class: "govuk-link" %>
  <% end %>
<% end %>

<%= render "components/summary", {
  id: "lead-image",
  title: {
    text: t("documents.show.lead_image.title"),
    change_url: @edition.editable? && images_path(@edition.document),
  },
  block: lead_image_block
} %>
